{% load static %}
{% load i18n %}

<!DOCTYPE html>
<html lang="ar">
<head>


    
    {% block static %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %} ">
    {% endblock static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>قائمة المدرسين</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <script>firstVisitCookieVersion = 4;</script>
    <!-- GTM -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-5Z2KTGX');</script>
    <!-- End  GTM  -->
    <!-- Meta Pixel Code -->
    <script>
        !function (f, b, e, v, n, t, s) {
            if (f.fbq) return; n = f.fbq = function () {
                n.callMethod ?
                    n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
            n.queue = []; t = b.createElement(e); t.async = !0;
            t.src = v; s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s)
        }(window, document, 'script',
            'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '579152650683471');
        fbq('track', 'PageView');
    </script>
    <script type="text/javascript">
        !function (T, l, y) { var S = T.location, u = "script", k = "instrumentationKey", D = "ingestionendpoint", C = "disableExceptionTracking", E = "ai.device.", I = "toLowerCase", b = "crossOrigin", w = "POST", e = "appInsightsSDK", t = y.name || "appInsights"; (y.name || T[e]) && (T[e] = t); var n = T[t] || function (d) { var g = !1, f = !1, m = { initialize: !0, queue: [], sv: "4", version: 2, config: d }; function v(e, t) { var n = {}, a = "Browser"; return n[E + "id"] = a[I](), n[E + "type"] = a, n["ai.operation.name"] = S && S.pathname || "_unknown_", n["ai.internal.sdkVersion"] = "javascript:snippet_" + (m.sv || m.version), { time: function () { var e = new Date; function t(e) { var t = "" + e; return 1 === t.length && (t = "0" + t), t } return e.getUTCFullYear() + "-" + t(1 + e.getUTCMonth()) + "-" + t(e.getUTCDate()) + "T" + t(e.getUTCHours()) + ":" + t(e.getUTCMinutes()) + ":" + t(e.getUTCSeconds()) + "." + ((e.getUTCMilliseconds() / 1e3).toFixed(3) + "").slice(2, 5) + "Z" }(), iKey: e, name: "Microsoft.ApplicationInsights." + e.replace(/-/g, "") + "." + t, sampleRate: 100, tags: n, data: { baseData: { ver: 2 } } } } var h = d.url || y.src; if (h) { function a(e) { var t, n, a, i, r, o, s, c, p, l, u; g = !0, m.queue = [], f || (f = !0, t = h, s = function () { var e = {}, t = d.connectionString; if (t) for (var n = t.split(";"), a = 0; a < n.length; a++) { var i = n[a].split("="); 2 === i.length && (e[i[0][I]()] = i[1]) } if (!e[D]) { var r = e.endpointsuffix, o = r ? e.location : null; e[D] = "https://" + (o ? o + "." : "") + "dc." + (r || "services.visualstudio.com") } return e }(), c = s[k] || d[k] || "", p = s[D], l = p ? p + "/v2/track" : config.endpointUrl, (u = []).push((n = "SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)", a = t, i = l, (o = (r = v(c, "Exception")).data).baseType = "ExceptionData", o.baseData.exceptions = [{ typeName: "SDKLoadFailed", message: n.replace(/\./g, "-"), hasFullStack: !1, stack: n + "\nSnippet failed to load [" + a + "] -- Telemetry is disabled\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\nHost: " + (S && S.pathname || "_unknown_") + "\nEndpoint: " + i, parsedStack: [] }], r)), u.push(function (e, t, n, a) { var i = v(c, "Message"), r = i.data; r.baseType = "MessageData"; var o = r.baseData; return o.message = 'AI (Internal): 99 message:"' + ("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) (" + n + ")").replace(/\"/g, "") + '"', o.properties = { endpoint: a }, i }(0, 0, t, l)), function (e, t) { if (JSON) { var n = T.fetch; if (n && !y.useXhr) n(t, { method: w, body: JSON.stringify(e), mode: "cors" }); else if (XMLHttpRequest) { var a = new XMLHttpRequest; a.open(w, t), a.setRequestHeader("Content-type", "application/json"), a.send(JSON.stringify(e)) } } }(u, l)) } function i(e, t) { f || setTimeout(function () { !t && m.core || a() }, 500) } var e = function () { var n = l.createElement(u); n.src = h; var e = y[b]; return !e && "" !== e || "undefined" == n[b] || (n[b] = e), n.onload = i, n.onerror = a, n.onreadystatechange = function (e, t) { "loaded" !== n.readyState && "complete" !== n.readyState || i(0, t) }, n }(); y.ld < 0 ? l.getElementsByTagName("head")[0].appendChild(e) : setTimeout(function () { l.getElementsByTagName(u)[0].parentNode.appendChild(e) }, y.ld || 0) } try { m.cookie = l.cookie } catch (p) { } function t(e) { for (; e.length;)!function (t) { m[t] = function () { var e = arguments; g || m.queue.push(function () { m[t].apply(m, e) }) } }(e.pop()) } var n = "track", r = "TrackPage", o = "TrackEvent"; t([n + "Event", n + "PageView", n + "Exception", n + "Trace", n + "DependencyData", n + "Metric", n + "PageViewPerformance", "start" + r, "stop" + r, "start" + o, "stop" + o, "addTelemetryInitializer", "setAuthenticatedUserContext", "clearAuthenticatedUserContext", "flush"]), m.SeverityLevel = { Verbose: 0, Information: 1, Warning: 2, Error: 3, Critical: 4 }; var s = (d.extensionConfig || {}).ApplicationInsightsAnalytics || {}; if (!0 !== d[C] && !0 !== s[C]) { method = "onerror", t(["_" + method]); var c = T[method]; T[method] = function (e, t, n, a, i) { var r = c && c(e, t, n, a, i); return !0 !== r && m["_" + method]({ message: e, url: t, lineNumber: n, columnNumber: a, error: i }), r }, d.autoExceptionInstrumented = !0 } return m }(y.cfg); (T[t] = n).queue && 0 === n.queue.length && n.trackPageView({}) }(window, document, {
            src: "https://az416426.vo.msecnd.net/scripts/b/ai.2.min.js",
            cfg: { // Application Insights Configuration
                instrumentationKey: ""
                /* ...Other Configuration Options... */
            }
        });
    </script>
    <noscript>
        <img b-3cau56r5na height="1" width="1" style="display:none"
             src="https://www.facebook.com/tr?id=579152650683471&ev=PageView&noscript=1" />
    </noscript>
    <!-- End Meta Pixel Code -->

    <script>
        !function (w, d, t) {
            w.TiktokAnalyticsObject = t; var ttq = w[t] = w[t] || []; ttq.methods = ["page", "track", "identify", "instances", "debug", "on", "off", "once", "ready", "alias", "group", "enableCookie", "disableCookie"], ttq.setAndDefer = function (t, e) { t[e] = function () { t.push([e].concat(Array.prototype.slice.call(arguments, 0))) } }; for (var i = 0; i < ttq.methods.length; i++)ttq.setAndDefer(ttq, ttq.methods[i]); ttq.instance = function (t) { for (var e = ttq._i[t] || [], n = 0; n < ttq.methods.length; n++)ttq.setAndDefer(e, ttq.methods[n]); return e }, ttq.load = function (e, n) { var i = "https://analytics.tiktok.com/i18n/pixel/events.js"; ttq._i = ttq._i || {}, ttq._i[e] = [], ttq._i[e]._u = i, ttq._t = ttq._t || {}, ttq._t[e] = +new Date, ttq._o = ttq._o || {}, ttq._o[e] = n || {}; var o = document.createElement("script"); o.type = "text/javascript", o.async = !0, o.src = i + "?sdkid=" + e + "&lib=" + t; var a = document.getElementsByTagName("script")[0]; a.parentNode.insertBefore(o, a) };

            ttq.load('CHDMBUBC77UFR1FA3PJ0');
            ttq.page();
        }(window, document, 'ttq');
    </script>

    
<meta charset="UTF-8" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>d
<meta name="format-detection" content="telephone=no" />
<meta name="viewport"
    content="width=device-width, initial-scale=1.0, user-scalable=yes" />


<meta name="format-detection" content="telephone=no" />
<meta name="viewport"
    content="width=device-width, initial-scale=1.0, user-scalable=yes" />


</head>
<body>
    <div class="container">
        <h1 class="my-4">قائمة المدرسين</h1>
        <div class="row">
            {% for teacher in teachers %}
                <div class="col-md-4">
                    <div class="card mb-4">
                        <img src="{{ teacher.image.url }}" class="card-img-top" alt="{{ teacher.name }}">
                        <div class="card-body">
                            <h5 class="card-title">{{ teacher.name }}</h5>
                            <p class="card-text">تقييم: {{ teacher.rating }} | إعجابات: {{ teacher.likes }}</p>
                            <a href="#" class="btn btn-primary">التفاصيل</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>




    <div class="class-card class-card--with-label">
        <a href="/en/classes/142168241862/" class="class-card__info">

            <img src="https://contents-live.nagwa.com/content/images/tutors/962134062378.jpg" class="class-card__info__img" alt="Nagwa Tutor Image" />

            <div class="class-card__info__container">
                <div>
                    <h3 class="class-card__info__name">
                        أميرة غيث
                    </h3>
                        <div class="class-card__info__rating">
                            <div class="profile-info__likes">

                                <i class="f-icon thumbs-up-icon"></i>
                                <span class="num-of-likes">
                                    606
                                </span>
                                <span> | </span>
                                <span class="percentage">
                                    85%
                                </span>

                            </div>
                        </div>

                </div>
                    <div class="price">
                        <div class="current-price">
                            <span>
215 ج.م.                            </span>
                        </div>
                            <div class="old-price">
                                <span>240 ج.م. </span>
                            </div>
                        <span> شهريًّا</span>
                    </div>
                    <div class="label label-discount">
                        <div class="label-container">
                            <h2> تخفيض</h2>
                            <span> سارٍ حتى 16 سبتمبر </span>
                        </div>
                    </div>
            </div>
        </a>

    <ul class="class-card__data">

            <li>
                <h4 class="font-normal">
                    الجدول:
                    <span>
                        <b id="NextSessionDate_142168241862"></b>
                    </span>
                </h4>
                <script>
                    function groupByTime(schedule) {
                        let groupedByTime = {};

                        schedule.forEach(entry => {
                            let time = entry.time;

                            if (!groupedByTime[time]) {
                                groupedByTime[time] = new Set();
                            }

                            groupedByTime[time].add(entry.day);
                        });

                        return groupedByTime;
                    }

                    function formatCombined(schedule) {
                        let grouped = groupByTime(schedule);
                        let result = [];

                        for (let time in grouped) {
                            let days = Array.from(grouped[time]);
                            if (days.length > 1) {
                                result.push(`${days.join(' و')} الساعة ${time}`);
                            } else {
                                result.push(`${days[0]} الساعة ${time}`);
                            }
                        }

                        return result.join(' • ');;
                        //.replace(/. ([^.]*)$/, '.  و $1');
                    }

                    function formatSeparate(schedule) {
                        let result = schedule.map(entry => `${entry.day} الساعة ${entry.time}`);
                        return result.join(' • ');
                    }
                    (function (lang, sametime) {
                        var arrofDates = [];
                        var utc_arr = ["2024-09-23T15:00:00Z","2024-09-25T15:00:00Z"];
                        var combinedDates;
                        var f_day; var s_day; var f_time; var s_time;
                        for (let i = 0; i < utc_arr.length; i++) {
                            var utc = utc_arr[i];
                            var date = new Date(utc);
                            // Check if the date is valid
                            if (isNaN(date.getTime())) {
                                return 'Invalid Date';
                            }
                            const optionsEn = {
                                weekday: 'long',
                                day: 'numeric',
                                month: 'long',
                                year: 'numeric',
                            };
                            const optionsAr = {
                                weekday: 'long',
                                day: 'numeric',
                                month: 'long',
                                year: 'numeric',
                                numberingSystem: 'latn', // Specify Latin numbering system for English
                            };
                            const options = lang === 'en' ? optionsEn : optionsAr;
                            let formattedDate = date.toLocaleDateString(lang, options);
                            // Manually adjust the format for English
                            const dayOfWeek = date.toLocaleDateString(lang, { weekday: 'long' });
                            const dayOfMonth = date.toLocaleDateString(lang, { day: 'numeric' });
                            const month = date.toLocaleDateString(lang, { month: 'long' });
                            formattedDate = `${dayOfWeek}`;
                            function convertTime(utc, lang) {
                                var date = new Date(utc);
                                // Check if the date is valid
                                if (isNaN(date.getTime())) {
                                    return 'Invalid Date';
                                }
                                const options = {
                                    hour: 'numeric',
                                    minute: 'numeric',
                                    hour12: true,
                                    numberingSystem: 'latn', // Specify Latin numbering system for English
                                };
                                // Use toLocaleTimeString instead of toLocaleDateString
                                const formattedTime = date.toLocaleTimeString(lang, options);
                                formattedTimeWithoutSpace = formattedTime.replace(/\s/g, '').toLowerCase();
                                if (lang === 'fr') {
                                    formattedTimeWithoutSpace = formattedTimeWithoutSpace.includes('am') ?
                                        formattedTimeWithoutSpace.replace('am', 'ص') :
                                        formattedTimeWithoutSpace.replace('pm', 'م');
                                }
                                return formattedTimeWithoutSpace;

                            }
                            var formattedTime = convertTime(date, 'ar');
                            arrofDates[i] = { "day": formattedDate, "time": formattedTimeWithoutSpace };

                        }
                        //  let groupedSchedule = groupByDayAndTime(arrofDates);
                        // combinedDates = formatGroupedSchedule(groupedSchedule);
                        if (sametime == "True") {
                            combinedDates = formatCombined(arrofDates);
                        }
                        else {
                            combinedDates = formatSeparate(arrofDates);
                        }
                        const dateElement = document.getElementById("NextSessionDate_" + 142168241862);
                        dateElement.innerHTML = combinedDates;
                    })('ar', 'True');

                </script>

            </li>
            <li>
                <h4 class="font-normal">
                    المقاعد المتبقية:
                    <span>
                        <b>12 من إجمالي 25</b>
                    </span>
                </h4>
            </li>
    </ul>
    <div class="class-card__cta">
        <a class="btn btn-black btn-outline" href="/en/classes/142168241862/">
            التفاصيل
        </a>

                <button id="btn_enroll_142168241862" class="btn btn-green"
                        gradeKey="eg_fourth_primary"
                        onclick="register('False', '142168241862','أميرة غيث', '415124760217', 'en')" attr-grade="eg_fourth_primary">

                    <span>
                        سجل مجانًا
                    </span>
                </button>
    </div>
   
</body>
</html>